const initState = {
    toWatch: {
        title: "To Watch",
        id: "toWatch",
        items: [
            {
                "backdrop_path": "/dpNeXLEnuKzAvbNwveJhNEiQvXZ.jpg",
                "created_by": [
                    {
                        "id": 1213074,
                        "credit_id": "55229c2f9251417be2004f7d",
                        "name": "Steven S. DeKnight",
                        "gender": 2,
                        "profile_path": "/zB5y8qPvfIcTPWjM7iVsyxB552G.jpg"
                    },
                    {
                        "id": 47506,
                        "credit_id": "55229c439251417be2004f81",
                        "name": "Drew Goddard",
                        "gender": 2,
                        "profile_path": "/j5Le3QQljdGJ3kPAcjAZr9V4QUC.jpg"
                    }
                ],
                "episode_run_time": [
                    52
                ],
                "first_air_date": "2015-04-10",
                "genres": [
                    {
                        "id": 28,
                        "name": "Action"
                    },
                    {
                        "id": 80,
                        "name": "Crime"
                    }
                ],
                "homepage": "http://www.netflix.com/WiMovie/80018294",
                "id": 61889,
                "in_production": true,
                "languages": [
                    "en"
                ],
                "last_air_date": "2016-03-18",
                "last_episode_to_air": {
                    "air_date": "2016-03-18",
                    "episode_number": 13,
                    "id": 1175514,
                    "name": "A Cold Day in Hell's Kitchen",
                    "overview": "In the season finale, Daredevil is backed into the ultimate showdown for his own life -- and the future of Hell's Kitchen.",
                    "production_code": null,
                    "season_number": 2,
                    "show_id": 61889,
                    "still_path": "/elTucMpUqGnrz7aZJuV0uFvTMt3.jpg",
                    "vote_average": 7.393,
                    "vote_count": 14
                },
                "last_episode_watched": {
                    "air_date": "2016-03-18",
                    "episode_number": 12,
                    "id": 1175523,
                    "name": "A Hot Day in Hell's Kitchen",
                    "overview": "In the season finale, Daredevil is backed into the ultimate showdown for his own life -- and the future of Hell's Kitchen.",
                    "production_code": null,
                    "season_number": 2,
                    "show_id": 61889,
                    "still_path": "/elTucMpUqGnrz7aZJuV0uFvTMt3.jpg",
                    "vote_average": 7.393,
                    "vote_count": 14
                },
                "name": "Marvel's Daredevil",
                "next_episode_to_air": {
                    "air_date": "2018-10-19",
                    "episode_number": 1,
                    "id": 1575105,
                    "name": "Resurrection",
                    "overview": "Shattered physically and spiritually, Matt rethinks his purpose and place in Hell's Kitchen. Meanwhile, Fisk puts a plan in motion from behind bars.",
                    "production_code": null,
                    "season_number": 3,
                    "show_id": 61889,
                    "still_path": "/l7RZFInQVmkpqyESagGSXPlSeyL.jpg",
                    "vote_average": 0,
                    "vote_count": 0
                },
                "networks": [
                    {
                        "name": "Netflix",
                        "id": 213,
                        "logo_path": "/wwemzKWzjKYJFfCeiB57q3r4Bcm.png",
                        "origin_country": ""
                    }
                ],
                "number_of_episodes": 39,
                "number_of_seasons": 3,
                "origin_country": [
                    "US"
                ],
                "original_language": "en",
                "original_name": "Marvel's Daredevil",
                "overview": "Lawyer-by-day Matt Murdock uses his heightened senses from being blinded as a young boy to fight crime at night on the streets of Hellâ€™s Kitchen as Daredevil.",
                "popularity": 118.321,
                "poster_path": "/wVadC1BT2w3hDh5Vq0J0LFFTrLP.jpg",
                "production_companies": [
                    {
                        "id": 19366,
                        "logo_path": "/vOH8dyQhLK01pg5fYkgiS31jlFm.png",
                        "name": "ABC Studios",
                        "origin_country": "US"
                    },
                    {
                        "id": 51963,
                        "logo_path": null,
                        "name": "DeKnight Productions",
                        "origin_country": "US"
                    },
                    {
                        "id": 51964,
                        "logo_path": null,
                        "name": "Goddard Textiles",
                        "origin_country": "US"
                    },
                    {
                        "id": 38679,
                        "logo_path": "/7sD79XoadVfcgOVCjuEgQduob68.png",
                        "name": "Marvel Television",
                        "origin_country": "US"
                    }
                ],
                "seasons": [
                    {
                        "air_date": "2015-04-10",
                        "episode_count": 13,
                        "id": 64558,
                        "name": "Season 1",
                        "overview": "Blinded as a young boy, Matt Murdock fights injustice by day as a lawyer and by night as the superhero Daredevil in Hell's Kitchen, New York City.",
                        "poster_path": "/4fXhRIJVDRDuP32MwvFQ0PRHXkk.jpg",
                        "season_number": 1
                    },
                    {
                        "air_date": "2016-03-18",
                        "episode_count": 13,
                        "id": 74182,
                        "name": "Season 2",
                        "overview": "Dark forces are tearing Hell's Kitchen apart once again, but this time Daredevil may have to choose between the city and his friends.",
                        "poster_path": "/opHoslNCxkgoCaGhfO66fvCSH83.jpg",
                        "season_number": 2
                    },
                    {
                        "air_date": "2018-10-19",
                        "episode_count": 13,
                        "id": 109592,
                        "name": "Season 3",
                        "overview": "Missing for months, Matt Murdock reemerges a broken man, putting into question his future as both vigilante Daredevil and lawyer Matthew Murdock. But when his archenemy Wilson Fisk is released from prison, Matt must choose between hiding from the world, or embracing his destiny as a hero.",
                        "poster_path": "/8kpsg33fQK7532KYvEafaTxT08l.jpg",
                        "season_number": 3
                    }
                ],
                "status": "Returning Series",
                "type": "Scripted",
                "vote_average": 7.8,
                "vote_count": 1195,
                "favorite": false
            },
            {
                "adult": false,
                "backdrop_path": "/3P52oz9HPQWxcwHOwxtyrVV1LKi.jpg",
                "belongs_to_collection": {
                    "id": 448150,
                    "name": "Deadpool Collection",
                    "poster_path": "/30c5jO7YEXuF8KiWXLg9m28GWDA.jpg",
                    "backdrop_path": "/dTq7mGyAR5eAydR532feWfjJjzm.jpg"
                },
                "budget": 110000000,
                "genres": [
                    {
                        "id": 28,
                        "name": "Action"
                    },
                    {
                        "id": 35,
                        "name": "Comedy"
                    },
                    {
                        "id": 878,
                        "name": "Science Fiction"
                    }
                ],
                "homepage": "https://www.foxmovies.com/movies/deadpool-2",
                "id": 383498,
                "imdb_id": "tt5463162",
                "original_language": "en",
                "original_title": "Deadpool 2",
                "overview": "Wisecracking mercenary Deadpool battles the evil and powerful Cable and other bad guys to save a boy's life.",
                "popularity": 67.311,
                "poster_path": "/to0spRl1CMDvyUbOnbb4fTk3VAd.jpg",
                "production_companies": [
                    {
                        "id": 7505,
                        "logo_path": "/837VMM4wOkODc1idNxGT0KQJlej.png",
                        "name": "Marvel Entertainment",
                        "origin_country": "US"
                    },
                    {
                        "id": 25,
                        "logo_path": "/qZCc1lty5FzX30aOCVRBLzaVmcp.png",
                        "name": "20th Century Fox",
                        "origin_country": "US"
                    }
                ],
                "production_countries": [
                    {
                        "iso_3166_1": "US",
                        "name": "United States of America"
                    }
                ],
                "release_date": "2018-05-15",
                "revenue": 734197230,
                "runtime": 121,
                "spoken_languages": [
                    {
                        "iso_639_1": "en",
                        "name": "English"
                    }
                ],
                "status": "Released",
                "tagline": "Prepare for the Second Coming.",
                "title": "Deadpool 2",
                "video": false,
                "vote_average": 7.5,
                "vote_count": 5706
            }
        ]
    },
    paused: {
        title: "Paused",
        id: "paused",
        items: []
    },
    watching: {
        title: "Watching",
        id: "watching",
        items: []
    },
    finished: {
        title: "Finished",
        id: "finished",
        items: []
    }
};

const movieReducer = (state = initState, action) => {
    switch (action.type) {
        case "MAKE_FAVORITE": {
            const {item_id, category_id} = action.data;
            return {
                ...state,
                [category_id]: {
                    ...state[category_id],
                    items: state[category_id].items.map(i => {
                        if (i.id === item_id) {
                            i.favorite = !i.favorite;
                            return i;
                        }
                        return i;
                    })
                }
            };
        }
        case "MOVE_TO_CATEGORY": {
            const { item_id, old_category_id, new_category_id } = action.data;
            const newItem = state[old_category_id].items.find(i => i.id === item_id);
            return {
                ...state,
                [new_category_id]: {
                    ...state[new_category_id],
                    items: [...state[new_category_id].items, newItem]
                },
                [old_category_id]: {
                    ...state[old_category_id],
                    items: state[old_category_id].items.filter(i => i.id !== item_id)
                },
            };
        }
        case "ADD_ITEM": {
            return {
                ...state,
                toWatch: {
                    ...state.toWatch,
                    items: [...state.toWatch.items, action.data.item]
                }
            }
        }
        default:
            return state;
    }
};

export default movieReducer;